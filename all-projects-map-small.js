mapboxgl.accessToken="pk.eyJ1IjoiYmFudGFtY29tdGVjaCIsImEiOiJjbG9mdXV6NGkwc2hqMm1xZW9oajNpbGY0In0.TXWumDIlMm3SwVlURA-RuA";let mapLocations3={type:"FeatureCollection",features:[]};let selectedMapLocations3=[];let map3=new mapboxgl.Map({container:"map3",style:"mapbox://styles/bantamcomtech/cljd844ss002801qr04a75a06",center:[-96,38.5],zoom:2});let mq3=window.matchMedia("");if(mq3.matches){map3.setZoom(2);}else{map3.setZoom(2);}let listLocations3=document.getElementById("location-list3").childNodes;function getGeoData3(){listLocations3.forEach(function(location3){console.log(location3);let locationLat3=location3.querySelector("#locationLatitude3").value;let locationLong3=location3.querySelector("#locationLongitude3").value;let locationInfo3=location3.querySelector(".locations-map_card3").innerHTML;let coordinates3=[locationLong3,locationLat3];let locationID3=location3.querySelector("#locationID3").value;let geoData3={type:"Feature",geometry:{type:"Point",coordinates:coordinates3},properties:{id:locationID3,description:locationInfo3},};if(mapLocations3.features.includes(geoData3)===false){mapLocations3.features.push(geoData3);}});console.log(mapLocations3);}getGeoData3();function addMapPoints3(){map3.addLayer({id:"locations",type:"circle",source:{type:"geojson",data:mapLocations3},paint:{"circle-radius":7,"circle-stroke-width":1,"circle-color":"#575ec8","circle-opacity":1,"circle-stroke-color":"white",},});map3.on("click","locations",(e)=>{const coordinates=e.features[0].geometry.coordinates.slice();const description=e.features[0].properties.description;while(Math.abs(e.lngLat.lng-coordinates[0])>180){coordinates[0]+=e.lngLat.lng>coordinates[0]?360:-360;}new mapboxgl.Popup().setLngLat(coordinates).setHTML(description).addTo(map3);});map3.on("click","locations",(e)=>{map3.flyTo({center:e.features[0].geometry.coordinates,speed:0.5,curve:1,easing(t){return t;},});});map3.on("mouseenter","locations",()=>{map3.getCanvas().style.cursor="pointer";});map3.on("mouseleave","locations",()=>{map3.getCanvas().style.cursor="";});}map3.on("load",function(e){addMapPoints3();});
