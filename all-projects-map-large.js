mapboxgl.accessToken="pk.eyJ1IjoiYmFudGFtY29tdGVjaCIsImEiOiJjbG9mdXZ6NXgwcDJtMnFtdXRoeHR0emM0In0.Qr4CnqFyXMwYq1ZTcLOf0A";let mapLocations4={type:"FeatureCollection",features:[]};let selectedMapLocations4=[];let map4=new mapboxgl.Map({container:"map4",style:"mapbox://styles/bantamcomtech/cljd844ss002801qr04a75a06",center:[-96,38.5],zoom:2});let mq4=window.matchMedia("");if(mq4.matches){map4.setZoom(2);}else{map4.setZoom(2);}let listLocations4=document.getElementById("location-list4").childNodes;function getGeoData4(){listLocations4.forEach(function(location4){console.log(location4);let locationLat4=location4.querySelector("#locationLatitude4").value;let locationLong4=location4.querySelector("#locationLongitude4").value;let locationInfo4=location4.querySelector(".locations-map_card4").innerHTML;let coordinates4=[locationLong4,locationLat4];let locationID4=location4.querySelector("#locationID4").value;let geoData4={type:"Feature",geometry:{type:"Point",coordinates:coordinates4},properties:{id:locationID4,description:locationInfo4},};if(mapLocations4.features.includes(geoData4)===false){mapLocations4.features.push(geoData4);}});console.log(mapLocations4);}getGeoData4();function addMapPoints4(){map4.addLayer({id:"locations",type:"circle",source:{type:"geojson",data:mapLocations4},paint:{"circle-radius":7,"circle-stroke-width":1,"circle-color":"#575ec8","circle-opacity":1,"circle-stroke-color":"white",},});map4.on("click","locations",(e)=>{const coordinates=e.features[0].geometry.coordinates.slice();const description=e.features[0].properties.description;while(Math.abs(e.lngLat.lng-coordinates[0])>180){coordinates[0]+=e.lngLat.lng>coordinates[0]?360:-360;}new mapboxgl.Popup().setLngLat(coordinates).setHTML(description).addTo(map4);});map4.on("click","locations",(e)=>{map4.flyTo({center:e.features[0].geometry.coordinates,speed:0.5,curve:1,easing(t){return t;},});});map4.on("mouseenter","locations",()=>{map4.getCanvas().style.cursor="pointer";});map4.on("mouseleave","locations",()=>{map4.getCanvas().style.cursor="";});}map4.on("load",function(e){addMapPoints4();});let enlargedMap2=document.getElementById("enlarged-map2");if(enlargedMap2){enlargedMap2.style.display="none";enlargedMap2.style.zIndex=150;enlargedMap2.style.opacity=0;}
